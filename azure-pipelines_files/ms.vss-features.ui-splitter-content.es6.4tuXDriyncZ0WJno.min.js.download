"use strict";define("VSSUI",["require","exports","react","VSS/Core/EventManagement","VSS/Core/Observable","VSS/Core/Util/Accessibility","VSS/Core/Util/String"],function(e,t,i,n,s,o,r){var l,d,a;l=t.ResourcesSplitter={},Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesSplitter.ExpandTooltip="Show more information",t.ResourcesSplitter.SplitterCollapsed="Splitter collapsed",t.ResourcesSplitter.SplitterExpanded="Splitter expanded",t.ResourcesSplitter.SplitterValueText="Pane width {0} pixels",function(e){d=t.ComponentsSplitterSplitter={},Object.defineProperty(t,"__esModule",{value:!0});const a=20,h=4,p=38;let c=0;class u extends i.Component{constructor(e,t){super(e,t),this._cachedNearElement=null,this._cachedFarElement=null,this.events=new n.EventManagement,this.uncontrolledFixedSize=new s.ObservableValue(void 0),this.placeholderPosition=new s.ObservableValue(void 0),this.collapse=(()=>{this.isCollapsed()||(this.props.onCollapsedChanged&&this.props.onCollapsedChanged(!0),o.announce(l.SplitterCollapsed))}),this.expand=(()=>{this.isCollapsed()&&(this.props.onCollapsedChanged&&this.props.onCollapsedChanged(!1),o.announce(l.SplitterExpanded))}),this._onDividerKeyDown=(e=>{const{disabled:t,splitterDirection:i}=this.props;if(!t&&!this._isDragging()){switch(e.keyCode){case 37:0===i&&this._moveDivider(-a);break;case 39:0===i&&this._moveDivider(a);break;case 38:1===i&&this._moveDivider(-a);break;case 40:1===i&&this._moveDivider(a);break;default:return}e.preventDefault(),e.stopPropagation()}}),this._onDividerMouseDown=(e=>{this._onDividerDown(e,e.clientX,e.clientY),this._attachMouseWindowEvents()}),this._onDividerTouchDown=(e=>{1===e.touches.length&&(this._onDividerDown(e,e.touches[0].clientX,e.touches[0].clientY),this._attachTouchWindowEvents())}),this._onDividerDown=((e,t,i)=>{this._fixedRef&&!this.props.disabled&&(e.preventDefault(),e.stopPropagation(),this._dragAnchorPos=this._getEventBoundedClientPos(t,i),this._previousFixedSize=this._getElementSize(this._fixedRef),void 0!==this.placeholderPosition.value&&(this.placeholderPosition.value=void 0),this._handleDragEvent(e,t,i))}),this._onDividerMouseMove=(e=>{this._handleDragEvent(e,e.clientX,e.clientY)}),this._onDividerTouchMove=(e=>{1===e.touches.length&&this._handleDragEvent(e,e.touches[0].clientX,e.touches[0].clientY)}),this._onDividerMouseUp=(e=>{this._detachMouseWindowEvents(),this._onDividerEnd(e.clientX,e.clientY)}),this._onDividerTouchEnd=(e=>{this._detachTouchWindowEvents(),this._onDividerEnd(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}),this._onDividerEnd=((e,t)=>{const i=this._getEventBoundedClientPos(e,t),n=this._getNewFixedSize(this._previousFixedSize,i-this._dragAnchorPos);this.placeholderPosition.value=void 0,this._setFixedSize(n),this._fireWindowResize()}),this.uncontrolledFixedSize.value=e.initialFixedSize,this.fixedPaneId="splitter-fixed-pane"+c++}componentDidMount(){this._fireWindowResize()}componentWillUnmount(){this.events.removeAllListeners()}render(){const{className:e,collapsed:n,fixedElement:s,maxFixedSize:o,minFixedSize:r,onRenderFarElement:l,onRenderNearElement:d,splitterDirection:a}=this.props,h=0===s?!!d:!!l;return i.createElement(t.Observer.Observer,{collapsed:n,fixedSize:void 0===this.props.fixedSize?this.uncontrolledFixedSize:this.props.fixedSize,placeholderPosition:this.placeholderPosition},n=>{let s;if(n.collapsed)s=p;else if(n.fixedSize){s=Math.max(n.fixedSize,r||0);let e=o;!e&&this._splitterContainer&&(e=this._getElementSize(this._splitterContainer)),e&&s>e&&(s=e)}else void 0!==r?s=r:void 0!==o&&(s=o);return i.createElement("div",{className:t.Util.css(e,"vss-Splitter--container",0===a&&"vss-Splitter--container-row",1===a&&"vss-Splitter--container-column",this._isDragging()&&"vss-Splitter--container-dragging"),ref:e=>this._splitterContainer=e},this._renderNearElement(s),h?this._renderDivider(s):null,this._renderDragPlaceHolder(),this._renderFarElement(s))})}_renderNearElement(e){const{fixedElement:t,onRenderNearElement:i,nearElementClassName:n}=this.props;if(!this._isDragging()||!this._cachedNearElement)if(i){const s=i();this._cachedNearElement=0===t?this._renderFixedPane(s,n,e):this._renderFlexiblePane(s,n)}else this._cachedNearElement=null;return this._cachedNearElement}_renderFarElement(e){const{fixedElement:t,onRenderFarElement:i,farElementClassName:n}=this.props;if(!this._isDragging()||!this._cachedFarElement)if(i){const s=i();this._cachedFarElement=1===t?this._renderFixedPane(s,n,e):this._renderFlexiblePane(s,n)}else this._cachedFarElement=null;return this._cachedFarElement}_renderFixedPane(e,n,s){const{expandTooltip:o,splitterDirection:r}=this.props,d=this.isCollapsed(),a={[0===r?"width":"height"]:void 0===s?"50%":s};return e?i.createElement("div",{className:t.Util.css("vss-Splitter--pane-fixed",d?"flex-column collapsed":n),id:t.Util.getSafeId(this.fixedPaneId),style:a,ref:e=>this._fixedRef=e},d?i.createElement(t.Button.Button,{className:"vss-splitter-expand-button",iconProps:{iconName:this.getCollapsedButtonIconName()},onClick:this.expand,subtle:!0,tooltipProps:{text:o||l.ExpandTooltip}}):e):null}getCollapsedButtonIconName(){const e=1===this.props.fixedElement;return 0===this.props.splitterDirection?e?"DoubleChevronLeft":"DoubleChevronRight":e?"DoubleChevronUp":"DoubleChevronDown"}_renderFlexiblePane(e,n){return i.createElement("div",{className:t.Util.css("vss-Splitter--pane-flexible",n)},e)}_renderDivider(e){const{startBound:n,endBound:s}=this._getSplitterBoundaries();return i.createElement("div",{"aria-valuemin":n,"aria-valuemax":s,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabel?void 0:this.props.ariaLabelledBy?this.props.ariaLabelledBy:t.Util.getSafeId(this.fixedPaneId),"aria-orientation":1===this.props.splitterDirection?"horizontal":"vertical","aria-valuenow":e,"aria-valuetext":e?r.format(l.SplitterValueText,e):void 0,role:"separator",tabIndex:0,className:t.Util.css("vss-Splitter--divider",this._isDragging()&&"vss-Splitter--divider-dragging"),onKeyDown:this._onDividerKeyDown,onMouseDown:this._onDividerMouseDown,onTouchStart:this._onDividerTouchDown})}_renderDragPlaceHolder(){if(this._isDragging()){const e={[0===this.props.splitterDirection?"left":"top"]:this.placeholderPosition.value};return i.createElement("div",{className:"vss-Splitter--drag-placeholder",style:e})}return null}_handleDragEvent(e,t,i){const{fixedElement:n}=this.props;e.preventDefault(),e.stopPropagation();const s=this._getEventBoundedClientPos(t,i),o=this._getNewFixedSize(this._previousFixedSize,s-this._dragAnchorPos),r=o.collapsed?0:o.fixedSize,l=0===n?r:this._getElementSize(this._splitterContainer)-r-h;l!==this.placeholderPosition.value&&(this.placeholderPosition.value=l)}_setFixedSize(e){const{onFixedSizeChanged:t}=this.props;if(e.collapsed)return void this.collapse();const i=e.fixedSize;this.uncontrolledFixedSize.value=i,t&&t(i),this.isCollapsed()&&this.expand()}_moveDivider(e){const t=this._getElementSize(this._fixedRef),i=this._getNewFixedSize(t,e);this._setFixedSize(i),this._fireWindowResize()}_attachMouseWindowEvents(){this.events.addEventListener(window,"mousemove",this._onDividerMouseMove),this.events.addEventListener(window,"mouseup",this._onDividerMouseUp)}_detachMouseWindowEvents(){this.events.removeEventListener(window,"mousemove",this._onDividerMouseMove),this.events.removeEventListener(window,"mouseup",this._onDividerMouseUp)}_attachTouchWindowEvents(){this.events.addEventListener(window,"touchmove",this._onDividerTouchMove),this.events.addEventListener(window,"touchend",this._onDividerTouchEnd)}_detachTouchWindowEvents(){this.events.removeEventListener(window,"touchmove",this._onDividerTouchMove),this.events.removeEventListener(window,"touchend",this._onDividerTouchEnd)}_getEventBoundedClientPos(e,t){const{splitterDirection:i}=this.props;let n;switch(i){case 0:n=e;break;case 1:n=t;break;default:n=0}return this._getBoundedClientPos(n)}_getBoundedClientPos(e){const{startBound:t,endBound:i}=this._getSplitterBoundaries(!!this.props.onCollapsedChanged);return Math.max(t,Math.min(e,i))-this._getElementStartPos(this._splitterContainer)}_getSplitterBoundaries(e=!1){let{fixedElement:t,minFixedSize:i,maxFixedSize:n}=this.props;if(!this._splitterContainer)return{startBound:0,endBound:0};e&&(i=0);const s=this._getElementStartPos(this._splitterContainer),o=s+this._getElementSize(this._splitterContainer);return{startBound:0===t?i?s+i:s:n?o-n:s,endBound:0===t?n?s+n:o:i?o-i:o}}_getNewFixedSize(e,t){let{fixedElement:i,maxFixedSize:n,minFixedSize:s=0,onCollapsedChanged:o}=this.props;void 0===n&&(n=this._getElementSize(this._splitterContainer));let r=t;1===i&&(r*=-1);let l=e+r;l>n&&(l=n);let d=this.isCollapsed();return o&&(d=l<p||!this.isCollapsed()&&l<s),l<s&&(l=s),{fixedSize:l,collapsed:d}}isCollapsed(){return!!s.ObservableLike.getValue(this.props.collapsed)}_isDragging(){return void 0!==this.placeholderPosition.value}_getElementSize(e){return 0===this.props.splitterDirection?e.clientWidth:e.clientHeight}_getElementStartPos(e){const t=e.getBoundingClientRect();return 0===this.props.splitterDirection?t.left:t.top}_fireWindowResize(){const e=document.createEvent("Event");e.initEvent("resize",!1,!0),window.dispatchEvent(e)}}t.ComponentsSplitterSplitter.Splitter=u,u.defaultProps={fixedElement:1,splitterDirection:0}}(),function(e){a=t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),function(i){for(var n in i)t[e].hasOwnProperty(n)||(t[e][n]=i[n])}(d)}("ComponentsSplitterindex"),function(e){t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),function(i){for(var n in i)t[e].hasOwnProperty(n)||(t[e][n]=i[n])}(a)}("Splitter")},["Resources.Splitter","Components/Splitter/Splitter","Components/Splitter/index","Splitter"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-splitter-content"}}));